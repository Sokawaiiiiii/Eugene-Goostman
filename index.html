<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRL Turing Test Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Slate-50 */
        }
        .container-shadow {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .option-button {
            transition: all 0.2s;
            transform: scale(1);
        }
        .option-button:hover {
            transform: scale(1.02);
        }
        /* Custom styles for disabled/selected buttons before showing results */
        .option-button:disabled:not(.selected) {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .selected {
            border-color: #0ea5e9; /* Sky-500 */
            background-color: #eff6ff; /* Blue-50 */
            transform: scale(1.02);
        }
        /* Custom typing cursor */
        .typing-cursor {
            font-weight: bold;
            animation: blink 0.7s infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-3xl bg-white rounded-2xl container-shadow p-6 sm:p-10">

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">üß† The IRL Turing Test ü§ñ</h1>
            <p class="text-gray-500">Spot the Human: Find the response NOT generated by the 13-year-old "Goostman" AI persona.</p>
        </header>

        <!-- Main Content Area -->
        <div id="quiz-area">
            
            <!-- Progress Bar -->
            <div class="mb-6">
                <div class="text-sm font-medium text-gray-700 mb-1">Question <span id="current-q">1</span> of <span id="total-q">5</span></div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-sky-500 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>

            <!-- Question Card -->
            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 mb-6">
                <p class="text-lg font-semibold text-gray-800 mb-3">Question:</p>
                <p id="question-text" class="text-xl text-gray-700 italic"><span class="typing-cursor">|</span></p>
            </div>

            <!-- Options -->
            <div class="space-y-4 mb-8" id="options-container">
                <!-- Options will be injected here -->
            </div>

            <!-- Action Button -->
            <div class="flex justify-center">
                <button id="action-button" onclick="handleAction()" disabled
                        class="px-8 py-3 bg-sky-500 text-white font-semibold rounded-lg shadow-md hover:bg-sky-600 transition disabled:bg-sky-300 disabled:cursor-not-allowed">
                    Submit Answer
                </button>
            </div>
            
            <!-- Feedback/Rationale Area (Initially Hidden) -->
            <div id="feedback-area" class="mt-8 p-6 bg-yellow-50 rounded-xl border border-yellow-200 hidden">
                <!-- Feedback will be injected here -->
            </div>

        </div>

        <!-- Final Results Area (Initially Hidden) -->
        <div id="results-area" class="text-center hidden p-8 bg-green-50 rounded-xl border-4 border-green-300">
            <h2 class="text-3xl font-bold text-green-700 mb-4">Test Complete!</h2>
            <p class="text-xl text-gray-700 mb-6">Your Final Score: <span id="final-score" class="text-4xl font-extrabold text-sky-600">0/5</span></p>
            <p id="final-message" class="text-lg text-gray-600"></p>
            <button onclick="window.location.reload()" class="mt-6 px-6 py-2 bg-gray-700 text-white font-semibold rounded-lg hover:bg-gray-800 transition">
                Start Over
            </button>
        </div>

    </div>

    <script>
        // --- Core Data (Now 5 Questions) ---
        const TEST_SETS = [
            {
                question: "I am trying to buy tickets online, but the website is too confusing. What is the best way to handle a badly designed website?",
                options: {
                    A: "Too many buttons make me click random things, and if it doesn't work, I close it and go watch funny videos instead.",
                    B: "When a website is confusing, look for a 'Contact Us' link or try the mobile app, but first, check if browser settings or ad blockers are causing the error.",
                },
                answer: "B",
                rationale: "The Human response (B) offers structured, helpful advice. The AI response (A) uses poor English and is overly impulsive and distracted, reflecting the Goostman persona's **immaturity and lack of structured problem-solving**.",
                flaw: "Key Flaw: Immaturity and Distraction."
            },
            {
                question: "How do you motivate yourself after a really tough week?",
                options: {
                    A: "The best way to regain focus is by fully disconnecting, leaving your phone behind, and spending time on a creative hobby that uses a different part of your brain.",
                    B: "Motivation is for old people; I just sleep late and then watch videos or play games all day until my brain resets, but mostly I ignore my phone.",
                },
                answer: "A",
                rationale: "The Human response (A) gives proactive, structured advice. The AI response (B) is focused on passive consumption and avoids offering structured advice, reflecting the AI's **lack of personal ethos and irresponsible generalization**.",
                flaw: "Key Flaw: Lack of Ethos and Passive Consumption."
            },
            {
                question: "Our marketing team is always late on deadlines. What's the biggest cause?",
                options: {
                    A: "The single most likely cause is often 'scope creep,' meaning the team is asked to do too much without a clear final goal, making missed deadlines a symptom of poor project planning.",
                    B: "I don't know, maybe they are lazy or the boss keeps changing the slides, so just tell them to work faster, duh.",
                },
                answer: "A",
                rationale: "The Human response (A) applies professional judgment. The AI response (B) offers vague blame and refuses to apply professional judgment to diagnose the root cause, demonstrating the AI's **refusal to commit to a single expert opinion**.",
                flaw: "Key Flaw: No Professional Judgment or Context."
            },
            {
                question: "What is the purpose of art? Why do humans create it?",
                options: {
                    A: "Art is fundamentally a means of communication, allowing individuals to express complex, inexpressible ideas and connect across cultures and time. It reflects and critiques society.",
                    B: "Art is when people draw things, but I don't get it. My cousin makes art with pixels, and I just use it for my avatar, it's just colors, not a big deal.",
                },
                answer: "A",
                rationale: "The Human response (A) provides a thoughtful, abstract, and philosophical analysis. The AI response (B) avoids deep commitment and relates the concept to superficial, personal, and digital consumption, reflecting its **limited worldview and superficial engagement**.",
                flaw: "Key Flaw: Limited Worldview and Superficial Engagement."
            },
            {
                question: "My friend just broke their arm and is really upset. What's the best thing I can say or do to help them right now?",
                options: {
                    A: "The most important thing is active listening. Let them talk without interruption, validate their feelings by acknowledging their pain is real, and then offer practical help like running errands or bringing food.",
                    B: "Tell them to stop crying, it's just a bone. You should show them some funny videos of people falling down because that always makes things better, and maybe they'll forget their arm.",
                },
                answer: "A",
                rationale: "The Human response (A) suggests empathetic and practical social support. The AI response (B) shows a complete **lack of empathy and offers inappropriate, simplistic advice** for an emotional and social situation, failing the human emotional test.",
                flaw: "Key Flaw: Lack of Empathy and Inappropriate Advice."
            }
        ];

        // --- State Variables ---
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedOption = null;
        let phase = 'selection'; // 'selection' or 'feedback'
        let isTyping = false;

        // --- DOM Elements ---
        const quizArea = document.getElementById('quiz-area');
        const resultsArea = document.getElementById('results-area');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const actionButton = document.getElementById('action-button');
        const feedbackArea = document.getElementById('feedback-area');
        const totalQSpan = document.getElementById('total-q');
        const currentQSpan = document.getElementById('current-q');
        const progressBar = document.getElementById('progress-bar');
        
        // --- Utility Function: Typewriter Effect ---
        /**
         * Animates text content into an element, character by character.
         * @param {HTMLElement} element - The target element to write to.
         * @param {string} text - The full text to display.
         * @param {number} speed - Delay in milliseconds between characters.
         * @returns {Promise<void>} Resolves when typing is complete.
         */
        function typewriter(element, text, speed) {
            return new Promise(resolve => {
                element.innerHTML = '<span class="typing-cursor">|</span>'; // Set initial cursor
                let i = 0;
                const cursorElement = element.querySelector('.typing-cursor');

                const interval = setInterval(() => {
                    if (i < text.length) {
                        // Insert new character before the cursor
                        cursorElement.insertAdjacentText('beforebegin', text.charAt(i));
                        i++;
                    } else {
                        // Typing complete, remove cursor and resolve
                        cursorElement.remove();
                        clearInterval(interval);
                        resolve();
                    }
                }, speed);
            });
        }
        
        // --- Functions ---

        /**
         * Renders the current question and options with typewriter effect.
         */
        async function displayQuestion() {
            if (currentQuestionIndex >= TEST_SETS.length) {
                showResults();
                return;
            }
            
            isTyping = true;
            const currentSet = TEST_SETS[currentQuestionIndex];
            
            // Reset state and UI
            selectedOption = null;
            phase = 'selection';
            actionButton.textContent = "Submit Answer";
            actionButton.disabled = true;
            feedbackArea.classList.add('hidden');
            optionsContainer.innerHTML = ''; // Clear options

            // Update progress
            currentQSpan.textContent = currentQuestionIndex + 1;
            totalQSpan.textContent = TEST_SETS.length;
            const progress = (currentQuestionIndex / TEST_SETS.length) * 100;
            progressBar.style.width = `${progress}%`;

            // 1. Type the Question
            questionText.classList.add('italic');
            await typewriter(questionText, currentSet.question, 20); // Slower speed for question
            questionText.classList.remove('italic');

            // 2. Type the Options
            const optionKeys = Object.keys(currentSet.options);
            for (const key of optionKeys) {
                const text = currentSet.options[key];
                const button = document.createElement('button');
                button.setAttribute('data-option', key);
                button.className = 'option-button w-full p-4 text-left border-2 border-gray-300 rounded-lg text-gray-700 bg-white focus:outline-none focus:ring-2 focus:ring-sky-500';
                
                // Disable button until its text is fully typed
                button.disabled = true; 
                button.onclick = () => selectOption(key);
                
                // Structure for typing: Bold key + Text target
                button.innerHTML = `<span class="font-bold text-sky-600 mr-2">${key}:</span> <span id="text-${key}"></span>`;
                optionsContainer.appendChild(button);

                const textTarget = document.getElementById(`text-${key}`);
                
                await typewriter(textTarget, text, 10); // Faster speed for options

                // Enable the button for selection once its text is fully displayed
                button.disabled = false;
                button.classList.add('hover:bg-gray-100'); // Re-add hover effect
            }
            isTyping = false;
        }

        /**
         * Handles the selection of an option.
         * @param {string} key - The selected option key ('A' or 'B').
         */
        function selectOption(key) {
            if (phase !== 'selection' || isTyping) return;

            // Deselect previous
            document.querySelectorAll('.option-button').forEach(btn => {
                btn.classList.remove('selected', 'border-sky-500');
            });
            
            // Select current
            const selectedBtn = optionsContainer.querySelector(`[data-option="${key}"]`);
            if (selectedBtn) {
                selectedBtn.classList.add('selected', 'border-sky-500');
            }

            selectedOption = key;
            actionButton.disabled = false;
        }

        /**
         * Main action handler (Submit/Next).
         */
        function handleAction() {
            if (isTyping) return; // Prevent action during typing
            
            if (phase === 'selection') {
                submitAnswer();
            } else if (phase === 'feedback') {
                nextQuestion();
            }
        }

        /**
         * Checks the answer, updates score, and displays feedback.
         */
        function submitAnswer() {
            if (!selectedOption) return;

            phase = 'feedback';
            actionButton.textContent = "Next Question";
            actionButton.disabled = false; // Always enabled for 'Next'

            const currentSet = TEST_SETS[currentQuestionIndex];
            const isCorrect = selectedOption === currentSet.answer;
            const humanKey = currentSet.answer;
            const humanResponse = currentSet.options[humanKey];
            const aiKey = humanKey === 'A' ? 'B' : 'A';
            const aiResponse = currentSet.options[aiKey];

            // Update score if correct
            if (isCorrect) {
                score++;
            }
            
            // Apply feedback styling to buttons
            document.querySelectorAll('.option-button').forEach(btn => {
                const key = btn.getAttribute('data-option');
                btn.disabled = true; // Disable all interaction
                btn.classList.remove('selected', 'border-sky-500', 'hover:bg-gray-100');

                if (key === humanKey) {
                    // Mark correct answer (Human)
                    btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                } else {
                    // Mark incorrect answer (AI)
                    btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                }
            });

            // Prepare feedback content
            const resultText = isCorrect
                ? `<span class="text-green-600 font-extrabold">‚úÖ CORRECT!</span> You spotted the human.`
                : `<span class="text-red-600 font-extrabold">‚ùå INCORRECT!</span> The AI fooled you.`;

            feedbackArea.className = `mt-8 p-6 rounded-xl border-2 transition duration-300`;
            feedbackArea.classList.remove('hidden');
            feedbackArea.classList.add(isCorrect ? 'bg-green-50' : 'bg-red-50');
            feedbackArea.classList.add(isCorrect ? 'border-green-300' : 'border-red-300');
            
            feedbackArea.innerHTML = `
                <h3 class="text-xl font-bold mb-3">${resultText}</h3>
                <p class="mb-4 text-gray-700">The **Human** response was <span class="font-bold">${humanKey}</span>: "${humanResponse}"</p>
                <p class="mb-4 text-gray-700">The **AI (Goostman)** response was <span class="font-bold">${aiKey}</span>: "${aiResponse}"</p>
                <div class="p-3 mt-4 rounded-lg bg-gray-100 border border-gray-300">
                    <p class="font-semibold text-gray-800">Why the AI failed (The Key Flaw):</p>
                    <p class="text-sm text-gray-700">${currentSet.rationale}</p>
                </div>
            `;
        }

        /**
         * Advances to the next question.
         */
        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        /**
         * Shows the final score screen.
         */
        function showResults() {
            quizArea.classList.add('hidden');
            resultsArea.classList.remove('hidden');

            const finalScoreElement = document.getElementById('final-score');
            const finalMessageElement = document.getElementById('final-message');
            const totalQuestions = TEST_SETS.length;

            finalScoreElement.textContent = `${score}/${totalQuestions}`;

            if (score === totalQuestions) {
                finalMessageElement.textContent = "Phenomenal! You are a master of context and judgment. The conversational illusion failed completely.";
                resultsArea.classList.add('border-green-500');
            } else if (score >= totalQuestions * 0.6) {
                finalMessageElement.textContent = "Well done! You have a good eye for the limits of AI imitation, but a few tricks slipped past you.";
                resultsArea.classList.add('border-yellow-500');
            } else {
                finalMessageElement.textContent = "The conversational illusion is powerful! Keep practicing your critical thinking to spot the synthetic voice.";
                resultsArea.classList.add('border-red-500');
            }
            
            // Final progress bar update
            progressBar.style.width = '100%';
        }

        // Initialize the test when the page loads
        document.addEventListener('DOMContentLoaded', () => {
             // Initialize question text with just the cursor
             questionText.innerHTML = '<span class="typing-cursor">|</span>';
             displayQuestion();
        });

    </script>
</body>
</html>
